<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Ã‰milie Gillet" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>SVF filter board (old) - Mutable Instruments prehistoric projects</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "SVF filter board (old)";
        var mkdocs_page_input_path = "shruthi/svf.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]--> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> Mutable Instruments prehistoric projects
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Shruthi</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../manual/">Manual</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../firmware/">Firmware development</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Build instructions</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../build/">Home</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../digital/">Digital control board</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../smr4mkii/">SMR4 mkII filter board</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../4pm_build/">4 Pole-mission kit</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../4pm/">4 pole-mission filter board</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../ym_build/">Yellow magic kit</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../delay/">Yellow magic filter board</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../dsp/">DSP filter board</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../polivoks/">Polivoks filter board</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../smr4/">SMR4 filter board</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../ssm2044/">SSM2044 filter board</a>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" href="./">SVF filter board (old)</a>
    <ul class="current">
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../svf2/">SVF filter board</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../digital_xt/">XT control board</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../xt_enclosure/">XT enclosure</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Ambika</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../ambika/manual/">Manual</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Build Instructions</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../ambika/mobo/">Motherboard</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../ambika/smr4/">SMR-4 voicecard</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../ambika/voicecards/">Other voicecards</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../ambika/mechanical/">Mechanical assembly</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../ambika/firmware/">Firmware setup</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../ambika/technotes/">Technical notes</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Anushri</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../anushri/manual/">Manual</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../anushri/build/">Build instructions</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">CVpal</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../cvpal/manual/">Manual</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cvpal/specs/">Specifications</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cvpal/build/">Build instructions</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">MIDIpal</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../midipal/manual/">Manual</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../midipal/firmware/">Firmware development</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../midipal/build/">Build instructions</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Other projects</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../cyclic/">Cyclic</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../module_tester/">Module Tester</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../bbf/">Breadboard Friends</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">Mutable Instruments prehistoric projects</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>Shruthi &raquo;</li>
          <li>Build instructions &raquo;</li>
      <li>SVF filter board (old)</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <p><img alt="" src="../../static/images/shruthi_svf.jpg" /></p>
<p>Tired of all those boring 4-pole low-pass filters? This filter board is for you! It features 2 independent 2-pole filters with low-pass, band-pass and high-pass modes, which can be routed in serial or parallel. The routing and mode switching is digitally controlled - this can be stored with patch data and modified from the Shruthi-1 digital board menus (Shruthi-1 digital board v0.6 and firmware v0.93 or above).</p>
<h2 id="using-this-filter-board">Using this filter board</h2>
<p>Please make sure that both the analog (CV1 to +5V) and digital (RX to +5V) ports of the filter and control boards are connected.</p>
<p>Beware! Only the Shruthi-1 firmware v0.93 (or above) generates the digital signals required to control the mode selection and routing matrix. In addition, it is not possible to use simultaneously the SVF filter board and the Programmer since they will be both accessing at the same time the digital extension port. To activate your SVF board, select <strong>svf</strong> in the system settings page. If you don't do so, it is likely that it will emit glitchy filtered sounds everytime you navigate through the pages.</p>
<p>When pressing the <strong>S2</strong> switch (Filter page) a second time, a new page is displayed allowing you to configure the filter routing and the cutoff/resonance of the secondary filter.</p>
<pre><code> Cut res md1 md2
 110   0 lpf +hp
</code></pre>
<p>The parameters are the following:</p>
<ol>
<li><strong>cut (cutoff)</strong>: Cutoff frequency of the secondary filter.</li>
<li><strong>res (resonance)</strong>: Resonance of the secondary filter.</li>
<li><strong>md1 (mode 1)</strong>: Mode of the main filter. The modes are <strong>lpf</strong> (low-pass), <strong>bpf</strong> (band-pass), and <strong>hpf</strong> (high-pass).</li>
<li><strong>md2 (mode 2)</strong>: Mode of the secondary filter. The modes are <strong>lp</strong> (low-pass), <strong>bp</strong> (band-pass), and <strong>hp</strong> (high-pass). The first character indicates the filter topology. <strong>+</strong> is for the parallel mode ; <strong>&gt;</strong> is for the serial mode.</li>
</ol>
<p>The CV1 and CV2 buses are used to transmit the cutoff and resonance settings of the secondary filter. Thus, you can use these as modulation destinations in the modulation matrix to route envelopes, LFOs, etc to the cutoff and resonance of the secondary filter. For example, if you want the second filter to track the note played on the keyboard, just like the main filter does by default, this can be done with the following modulation patch:</p>
<pre><code>Mod src dst amt
  1 not cv1 63
</code></pre>
<p>If for any specific reason you don't want to digitally switch between the modes, but rather want to build your own modeswitchamatron (one such reason would be that you want to use the programmer and like knobby and switchy things), remove the two 4053s and manually patch your favorite filter topology with wires between the pins of IC12 and IC13. The labels on IC12 and IC13 indicate which signals are available at those pins:</p>
<ul>
<li>MIX: oscillators + audio input mix</li>
<li>BP1: output of filter 1 BP mode</li>
<li>HP1: output of filter 1 HP mode</li>
<li>LP1: output of filter 1 LP mode</li>
<li>1&gt;VCA: contribution of filter 2 to the final output.</li>
<li>&gt;2: filter 2 input</li>
<li>BP2: output of filter 2 BP mode</li>
<li>HP2: output of filter 2 HP mode</li>
<li>LP2: output of filter 2 LP mode</li>
<li>2&gt;VCA: contribution of filter 2 to the final output.</li>
</ul>
<h2 id="schematics-and-pcb">Schematics and PCB</h2>
<p><img alt="" src="../../static/images/shruthi_svf.png" /></p>
<p>You can find the Eagle files for this board in the shruthi/hardware_design/pcb directory of the source code hosted on <a href="http://github.com/pichenettes/shruthi-1">github</a>.</p>
<p>The schematics in PDF format are <a href="../../static/schematics/Shruthi-Analog-SVF-v02.pdf">here</a>.</p>
<p>If you are wondering how it works, <a href="../../static/documents/svf_analysis.pdf">this document</a> provides an analysis and some design notes.</p>
<h2 id="bill-of-materials">Bill of materials</h2>
<p><a href="https://docs.google.com/spreadsheet/pub?key=0Ai4xPbRS5YZjdDRvamp3ZTFPNGJyTk53MFJhWTdLOEE&amp;output=html">Bill of materials.</a></p>
<ol>
<li>Not required. Check the SSM2164 datasheet to learn about the difference in noise/distortion between class A and class AB operation and decide wisely.</li>
<li>Do not populate the diodes for a harsh, clipped resonance.</li>
</ol>
<h2 id="license">License</h2>
<p>This circuit and PCB layout is made available under a <strong>cc-by-sa-3.0</strong> license.</p>
<h2 id="releases">Releases</h2>
<h3 id="v02">v0.2</h3>
<ul>
<li>Added label with Zener value.</li>
<li>Fixed bad routing of audio connector trace.</li>
<li>Changed a few gains along the audio path to minimize clipping when using vanilla TL072 (breadboard proto used TLV272s).</li>
</ul>
<h3 id="v01">v0.1</h3>
<ul>
<li>First prototype.</li>
</ul>
<h2 id="kudos">Kudos</h2>
<p>David Dixon and Tom Wiltshire for precious discussions on SSM2164 SVF design.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../ssm2044/" class="btn btn-neutral float-left" title="SSM2044 filter board"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../svf2/" class="btn btn-neutral float-right" title="SVF filter board">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../ssm2044/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../svf2/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme_extra.js" defer></script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
